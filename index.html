<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ChipInBro - Split Expenses</title>
    <meta
      name="description"
      content="Create and split expenses with friends. Privacy-first, no accounts required."
    />
    <meta name="author" content="NoAiStudio" />

    <!-- Canonical URL -->
    <link rel="canonical" href="https://chipinbro.com/" />

    <!-- Open Graph -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="ChipInBro - Split Expenses" />
    <meta
      property="og:description"
      content="Create and split expenses with friends. Privacy-first, no accounts required."
    />
    <meta property="og:url" content="https://chipinbro.com/" />
    <meta property="og:image" content="https://chipinbro.com/og-image.png" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="ChipInBro - Split Expenses" />
    <meta
      name="twitter:description"
      content="Create and split expenses with friends. Privacy-first, no accounts required."
    />

    <!-- JSON-LD -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "SoftwareApplication",
        "name": "ChipInBro",
        "applicationCategory": "FinanceApplication",
        "operatingSystem": "Web",
        "description": "Privacy-first expense splitting web app. Create receipts and share them via URL - no accounts, no tracking, no backend.",
        "author": {
          "@type": "Organization",
          "name": "NoAiStudio"
        },
        "url": "https://chipinbro.com/",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        }
      }
    </script>

    <!-- TailwindCSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Custom CSS for RTL and print -->
    <style>
      [dir="rtl"] .rtl-flip {
        transform: scaleX(-1);
      }
      @media print {
        .no-print {
          display: none !important;
        }
        body {
          background: white !important;
        }
      }
    </style>
  </head>
  <body class="bg-gray-50 min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-2xl">
      <!-- Header -->
      <header class="text-center mb-8">
        <h1 class="text-4xl font-bold text-gray-900 mb-2">ChipInBro</h1>
        <p class="text-gray-600" data-i18n="meta_create">
          Create and split expenses with friends. Privacy-first, no accounts
          required.
        </p>
      </header>

      <!-- Language Selector -->
      <div class="mb-8 flex justify-center">
        <div class="inline-flex rounded-lg border border-gray-300 bg-white p-1">
          <button
            type="button"
            class="lang-btn px-3 py-2 rounded-md text-sm font-medium transition-colors"
            data-lang="en"
            aria-label="English"
          >
            English
          </button>
          <button
            type="button"
            class="lang-btn px-3 py-2 rounded-md text-sm font-medium transition-colors"
            data-lang="fa"
            aria-label="فارسی"
          >
            فارسی
          </button>
          <button
            type="button"
            class="lang-btn px-3 py-2 rounded-md text-sm font-medium transition-colors"
            data-lang="de"
            aria-label="Deutsch"
          >
            Deutsch
          </button>
        </div>
      </div>

      <!-- Total Display -->
      <div
        class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6"
      >
        <div class="text-center">
          <div class="text-sm text-gray-600 mb-1" data-i18n="final_total">
            Final Total
          </div>
          <div id="totalDisplay" class="text-3xl font-bold text-gray-900">
            --
          </div>
        </div>
      </div>

      <!-- Form -->
      <form
        id="receiptForm"
        class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 space-y-6"
        novalidate
      >
        <!-- Receipt Title -->
        <div>
          <label
            for="receiptTitle"
            class="block text-sm font-medium text-gray-700 mb-2"
            data-i18n="receipt_title"
            >Receipt Title</label
          >
          <input
            type="text"
            id="receiptTitle"
            name="title"
            class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
            placeholder="e.g., Dinner at Restaurant"
            data-i18n-placeholder="receipt_title_placeholder"
          />
        </div>

        <!-- Paid By -->
        <div>
          <label
            for="paidBy"
            class="block text-sm font-medium text-gray-700 mb-2"
            data-i18n="paid_by"
            >Paid by</label
          >
          <input
            type="text"
            id="paidBy"
            name="paidBy"
            class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
            placeholder="e.g., John Doe"
            data-i18n-placeholder="paid_by_placeholder"
          />
        </div>

        <!-- Currency and Tax/Tip Row -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <div>
            <label
              for="currency"
              class="block text-sm font-medium text-gray-700 mb-2"
              data-i18n="currency"
              >Currency</label
            >
            <select
              id="currency"
              name="currency"
              class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
            >
              <option value="EUR">EUR</option>
              <option value="USD">USD</option>
              <option value="GBP">GBP</option>
              <option value="IRR">IRR</option>
            </select>
          </div>
          <div>
            <label
              for="taxPercent"
              class="block text-sm font-medium text-gray-700 mb-2"
              data-i18n="tax_percent"
              >Tax (%)</label
            >
            <input
              type="number"
              id="taxPercent"
              name="taxPercent"
              step="0.01"
              min="0"
              class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
              placeholder="0.00"
            />
          </div>
          <div>
            <label
              for="tipValue"
              class="block text-sm font-medium text-gray-700 mb-2"
              data-i18n="tip_value"
              >Tip</label
            >
            <input
              type="number"
              id="tipValue"
              name="tipValue"
              step="0.01"
              min="0"
              class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
              placeholder="0.00"
            />
          </div>
        </div>

        <!-- Participants Section -->
        <div>
          <div class="flex justify-between items-center mb-4">
            <h3
              class="text-lg font-medium text-gray-900"
              data-i18n="participants"
            >
              Participants
            </h3>
            <button
              type="button"
              id="addParticipantBtn"
              class="inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
            >
              <svg
                class="w-4 h-4 mr-2 rtl-flip"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M12 6v6m0 0v6m0-6h6m-6 0H6"
                ></path>
              </svg>
              <span data-i18n="add_participant">Add Participant</span>
            </button>
          </div>

          <div id="participantsContainer" class="space-y-4">
            <!-- Participant template will be added by JavaScript -->
          </div>
        </div>

        <!-- Note -->
        <div>
          <label
            for="note"
            class="block text-sm font-medium text-gray-700 mb-2"
            data-i18n="note"
            >Note</label
          >
          <textarea
            id="note"
            name="note"
            rows="3"
            class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
            placeholder="Optional note..."
            data-i18n-placeholder="note_placeholder"
          ></textarea>
        </div>

        <!-- Generate Button -->
        <div class="pt-4">
          <button
            type="submit"
            id="generateBtn"
            class="w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed"
          >
            <span data-i18n="generate_receipt">Generate Receipt</span>
          </button>
        </div>
      </form>

      <!-- Footer -->
      <footer class="text-center mt-12 text-sm text-gray-500">
        <p>
          Developed by
          <a href="#" class="text-blue-600 hover:text-blue-800">NoAiStudio</a>
        </p>
      </footer>
    </div>

    <!-- Scripts -->
    <script src="i18n.js"></script>
    <script src="app.js"></script>
    <script>
      // Initialize the app
      document.addEventListener("DOMContentLoaded", function () {
        App.initCreatePage();
      });
    </script>
  </body>
</html>
